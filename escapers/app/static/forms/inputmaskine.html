<form class = "form" data-catagory = "inputmaskine">
    <h3>Den universelle inputmaskine</h3>
    <div id="inputmaskine_keyValue"></div>
    <button type="button" class = "add-button" onclick="addKeyValuePair('inputmaskine_keyValue')">Tilføj svar</button>
    <br><br>
    <input type="submit" value="Gem">
    
    <script>
        function addKeyValuePair(keyvalueID) {
            const container = document.getElementById(keyvalueID);
            const pairDiv = document.createElement('div');
            pairDiv.className = 'key-value-pair';

            const keyInput = document.createElement('input');
            keyInput.type = 'text';
            keyInput.placeholder = 'Placering';
            keyInput.name = 'keys[]'; // Keep same name for array-like submission

            const valueInput = document.createElement('input');
            valueInput.type = 'text';
            valueInput.placeholder = 'Værdi';
            valueInput.name = 'values[]'; // Also keep same name

            const removeButton = document.createElement('button');
            removeButton.type = 'button';
            removeButton.setAttribute("class", "remove-button");
            removeButton.textContent = 'Fjern svar';
            removeButton.onclick = function () {
                container.removeChild(pairDiv);
            };
            
            pairDiv.appendChild(removeButton);
            pairDiv.appendChild(keyInput);
            pairDiv.appendChild(valueInput);

            container.appendChild(pairDiv);
            return [keyInput, valueInput];
        }

    </script>    
</form>
